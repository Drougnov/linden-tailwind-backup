<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New tier page</title>

    <!-- poppins font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Quill CSS -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <script>
      tailwind.config = {
          darkMode: 'class',
          theme: {
              extend: {
                  screens: {
                      sm: '480px',
                      md: '768px',
                      lg: '1010px',
                      xl: '1365px',
                  },
                  fontFamily: {
                      sans: ['Poppins', 'Inter', 'Montserrat', 'Open Sans', 'arial', 'sans-serif'],
                  },
              },
          },
      }
    </script>
  </head>
<body class="bg-[#EAECF0] font-sans p-0 m-0 box-border overflow-x-hidden overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-order-style:none] [scrollbar-width:none] [&.dark]:bg-[#222526]">
    <!-- main-wrapper -->
    <div class="relative before:content-[''] before:fixed before:inset-0 before:pointer-events-none before:bg-cover before:bg-center before:bg-no-repeat before:bg-[url('https://i.ibb.co.com/QvpHN5vD/mobile-gradient-main-bg-1.webp')] md:before:bg-[url('https://i.ibb.co.com/dw910Z5b/gradient-main-bg.webp')]">
        <!-- popup-container -->
        <div class="flex flex-col gap-6 px-2 py-4 rounded-[0.3125rem] bg-white/75 min-h-screen shadow-[0px_0px_12px_0px_#0000001A] backdrop-blur-[50px] md:px-4 dark:bg-[#181a1bbf]">
            <!-- title-section -->
            <header class="flex justify-between items-center gap-2">
                <h1 class="text-lg font-semibold text-[#0C111D] dark:text-[#dbd8d3]">Unsubscribe Discount</h1>
                <img src="https://i.ibb.co.com/zH0qJw8m/close-01.webp" alt="close 01" class="w-6 h-6 cursor-pointer">
            </header>

            <!-- form-wrapper -->
            <div class="flex flex-col gap-6 md:gap-8">
                <!-- subscription-discount-section -->
                <section class="flex flex-col gap-4">
                    <h2 class="text-base font-semibold text-[#0C111D] md:text-lg dark:text-[#dbd8d3]">Subscription period and discount</h2>
                    <div class="flex flex-col gap-2 md:flex-row">
                        <div class="flex flex-col gap-1 grow md:flex-row md:items-center">
                            <div class="flex md:grow">
                                <!-- dropdown -->
                                <div class="relative w-1/2 h-12 grow">
                                    <div data-discount-dropdown class="dash-select cursor-pointer">
                                        <div class="dash-select__trigger h-12 flex items-center justify-between w-full px-3.5 border-b border-b-[#EAECF0] rounded-t-sm bg-white/50 shadow-[0px_1px_2px_0px_#1018280D] dark:bg-[#181a1b80] dark:border-b-[#353a3c]">
                                            <span class="text-base text-[#0c111d] dark:text-[#dbd8d3]">Percent off</span>
                                            <img src="https://i.ibb.co/2mXMQ5F/chevron-down.webp" alt="chevron-down" class="select-arrow w-5 h-5 transition-transform duration-300 ease-in-out transform">
                                        </div>
                                        <div class="dash-options-container absolute w-full transition-all duration-300 z-10 top-[calc(100%+0.5rem)] shadow-none border-none opacity-0 invisible pointer-events-none">
                                            <div class="dash-options rounded-[2px] bg-white/70 backdrop-blur-[25px] max-h-[200px] overflow-y-auto dark:bg-[#181a1bb3]">
                                                <div data-discount-dropdown-option="percent" class="dash-option flex items-center gap-2 h-12 px-3 border-b border-[#EAECF0] cursor-pointer hover:bg-white [&.selected]:bg-white dark:hover:bg-[#181a1b] dark:[&.selected]:bg-[#181a1b] dark:border-[#353a3c] selected">
                                                    <span class="text-sm font-medium text-[#0c111d] dark:text-[#dbd8d3]">Percent off</span>
                                                </div>
                                                <div data-discount-dropdown-option="amount" class="dash-option flex items-center gap-2 h-12 px-3 border-b border-[#EAECF0] cursor-pointer hover:bg-white [&.selected]:bg-white dark:hover:bg-[#181a1b] dark:[&.selected]:bg-[#181a1b] dark:border-[#353a3c]">
                                                    <span class="text-sm font-medium text-[#0c111d] dark:text-[#dbd8d3]">Amount off</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <select class="dash-real-select hidden" name="dash-select" required="">
                                        <option value="percent">Percent off</option>
                                        <option value="amount">Amount off</option>
                                    </select>
                                </div>

                                <!-- input-container -->
                                <div class="w-1/2 h-12 flex items-center bg-white/30 border-b rounded-t-sm shadow-[0px_1px_2px_0px_#1018280D] grow dark:bg-[#181a1b4d]">
                                    <div class="flex items-center gap-2 px-3.5 w-full min-w-0">
                                        <span data-usd-off-text class="hidden text-base font-bold text-[#101828] dark:text-[#d6d3cd]">USD$</span>
                                        <input type="text" class="text-base bg-transparent border-none outline-none w-full min-w-0 text-[#0C111D] placeholder:text-[#667085] dark:text-[#dbd8d3] dark:placeholder:text-[#9e9689]">
                                    </div>
                                    <span class="text-base font-semibold whitespace-nowrap px-[1.125rem] text-[#344054] dark:text-[#bdb7af]"><span data-percent-off-text class="text-base font-semibold whitespace-nowrap text-[#344054] dark:text-[#bdb7af]">%</span> off</span>
                                </div>
                            </div>

                            <p class="text-xs leading-normal text-right text-[#FF4405] md:text-right md:min-w-[12.5rem] dark:text-[#ff571e]">Please enter discount amount</p>
                        </div>

                        <div class="hidden flex-col items-end gap-1 md:w-[12.5rem]">
                            <div class="flex items-baseline gap-1">
                                <span class="text-3xl leading-[2.375rem] font-semibold align-baseline text-[#344054] dark:text-[#bdb7af]"><span class="text-base font-medium align-baseline text-[#344054] dark:text-[#bdb7af]">USD$</span>24.88</span>
                                <span class="text-xs leading-normal font-medium align-bottom text-[#344054] dark:text-[#bdb7af]">/mo</span>
                            </div>
                            <p class="text-xs leading-normal text-[#344054] dark:text-[#bdb7af]">USD$248.80 before discount</p>
                        </div>
                    </div>
                </section>

                <!-- unsubscribe-discount-period-section -->
                <div class="flex flex-col gap-4 md:pb-2">
                    <section class="flex flex-col gap-1">
                        <h2 class="text-base font-semibold text-[#0C111D] md:text-lg dark:text-[#dbd8d3]">Unsubscribe Discount period</h2>
                        <p class="text-sm text-[#475467] dark:text-[#b1aba0]">Choose how long the unsubscribe discount lasts before charging back original price. </p>
                    </section>

                    <div class="flex flex-col gap-2">
                        <!-- input-container -->
                        <div class="h-10 flex items-center bg-white/50 border-b border-[#D0D5DD] rounded-t-sm shadow-[0px_1px_2px_0px_#1018280D] dark:bg-[#181a1b80] dark:border-[#3b4043]">
                            <div class="flex items-center gap-2 px-3 w-full min-w-0">
                                <input data-free-tokens-input type="text" class="text-base bg-transparent border-none outline-none w-full min-w-0 text-[#101828] placeholder:text-[#667085] dark:text-[#d6d3cd] dark:placeholder:text-[#9e9689]">
                            </div>
                            <span class="text-sm font-semibold whitespace-nowrap px-4 text-[#344054] dark:text-[#bdb7af]">Billing cycles</span>
                        </div>

                        <!-- title & checkbox container -->
                        <div class="flex items-start gap-2">
                            <!-- checkbox-container -->
                            <div class="flex gap-2">
                                <div class="flex justify-center items-center w-6 h-6">
                                    <input type="checkbox" id="unlimited-time-checkbox" class="appearance-none bg-white border border-[#d1d5db] rounded w-4 min-w-[1rem] h-4 cursor-pointer
                                            checked:bg-[#07f468] checked:border-[#07f468] checked:relative checked:after:content-[''] checked:after:absolute checked:after:left-[0.3rem] checked:after:top-[0.15rem] checked:after:w-1 checked:after:h-2 checked:after:border-black checked:after:border-[2px] checked:after:border-solid checked:after:border-t-0 checked:after:border-l-0 checked:after:rotate-45 checked:after:box-border">
                                </div>
                            </div>

                            <div class="flex items-center gap-1">
                                <label for="unlimited-time-checkbox" class="h-5 cursor-pointer">
                                    <span class="text-sm align-text-top text-[#0c111d] dark:text-[#dbd8d3]">Unlimited time</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- message-to-fan-section -->
            <div class="flex flex-col gap-2 md:gap-4 md:pt-2">
                <div class="flex flex-col gap-1">
                    <div class="flex items-center gap-1">
                        <h2 class="text-base font-semibold text-[#0C111D] md:text-lg dark:text-[#dbd8d3]">Message to Fan</h2>
                        <span class="text-sm leading-normal italic text-[#0C111D] dark:text-[#dbd8d3]">Optional</span>
                    </div>
                    <p class="text-sm text-[#667085] dark:text-[#9e9689]">Your personal message will be displayed to your subscriber when they are considering leaving.</p>
                </div>

                <!-- input-container -->
                <div class="flex items-center bg-white/50 border-b border-[#D0D5DD] rounded-t-sm shadow-[0px_1px_2px_0px_#1018280D] dark:bg-[#181a1b80] dark:border-[#3b4043]">
                    <div class="flex items-center gap-2 px-3 py-2 w-full min-w-0">
                        <textarea name="" id="" class="text-base bg-transparent border-none outline-none [field-sizing:content] w-full min-w-0 text-[#667085] placeholder:text-[#667085] dark:text-[#9e9689] dark:placeholder:text-[#9e9689]">Your support means the world to me......consider staying with me for a little longer and I will give you something sweet...❤️</textarea>
                    </div>
                </div>
            </div>

            <!-- button-container -->
            <div class="flex items-center gap-6">
                <button class="flex justify-center items-center bg-transparent outline-none border-none cursor-pointer">
                    <span class="text-lg font-medium text-[#0C111D] dark:text-[#dbd8d3]">CANCEL</span>
                </button>

                <button class="flex justify-center items-center gap-2.5 px-2 h-10 bg-black cursor-pointer group/button disabled hover:bg-[#07F468] [&.disabled]:pointer-events-none [&.disabled]:bg-[#3440540D] dark:[&.disabled]:bg-[#323e520d] w-max">
                    <img src="https://i.ibb.co/TD3jgrGK/plus-square.webp" alt="plus-square" class="w-5 h-5 group-[.disabled]/button:[filter:brightness(0)_saturate(100%)_invert(76%)_sepia(27%)_saturate(176%)_hue-rotate(179deg)_brightness(81%)_contrast(87%)] [filter:brightness(0)_saturate(100%)_invert(74%)_sepia(36%)_saturate(5644%)_hue-rotate(95deg)_brightness(111%)_contrast(94%)] group-hover/button:[filter:brightness(0)]">
                    <span class="text-lg font-medium text-[#07F468] group-hover/button:text-black group-[.disabled]/button:text-[#98A2B3] dark:group-[.disabled]/button:text-[#b0a99e]">ADD DISCOUNT</span>
                </button>
            </div>
        </div>
    </div>

    <!-- custom select-dropdown -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          const customSelects = document.querySelectorAll('.dash-select');

          customSelects.forEach(select => {
              const trigger = select.querySelector('.dash-select__trigger span');
              const options = select.querySelectorAll('.dash-option');
              const realSelect = select.parentElement.querySelector('.dash-real-select');

              // Set initial value
              const selectedOption = select.querySelector('.dash-option.selected');
              if (selectedOption) {
                  trigger.textContent = selectedOption.querySelector('span').textContent;
                  realSelect.value = selectedOption.dataset.value;
              }

              // Toggle dropdown
              select.addEventListener('click', function(e) {
                  e.stopPropagation();

                  // Close all other selects first
                  document.querySelectorAll('.dash-select').forEach(s => {
                      if (s !== select) {
                          s.classList.remove('open');
                          s.querySelector('.select-arrow').classList.remove('rotate-180');
                          s.querySelector('.dash-options-container').classList.add('opacity-0', 'invisible', 'pointer-events-none');
                          s.querySelector('.dash-options-container').classList.remove('opacity-100', 'visible', 'pointer-events-auto');
                      }
                  });

                  // Position dropdown based on available space
                  positionDropdown(this);

                  // Toggle this select
                  this.classList.toggle('open');
                  const arrow = this.querySelector('.select-arrow');
                  const optionsContainer = this.querySelector('.dash-options-container');

                  if (this.classList.contains('open')) {
                      arrow.classList.add('rotate-180');
                      optionsContainer.classList.remove('opacity-0', 'invisible', 'pointer-events-none');
                      optionsContainer.classList.add('opacity-100', 'visible', 'pointer-events-auto');
                  } else {
                      arrow.classList.remove('rotate-180');
                      optionsContainer.classList.add('opacity-0', 'invisible', 'pointer-events-none');
                      optionsContainer.classList.remove('opacity-100', 'visible', 'pointer-events-auto');
                  }
              });

              // Handle option selection
              options.forEach(option => {
                  option.addEventListener('click', function(e) {
                      e.stopPropagation();

                      options.forEach(opt => {
                          opt.classList.remove('selected');
                      });

                      this.classList.add('selected');
                      const optionSpan = this.querySelector('span');

                      trigger.textContent = optionSpan.textContent;
                      realSelect.value = this.dataset.value || optionSpan.textContent.toLowerCase();

                      // Close the dropdown
                      select.classList.remove('open');

                        const arrow = select.querySelector('.select-arrow');
                        const optionsContainer = select.querySelector('.dash-options-container');

                        arrow.classList.remove('rotate-180');
                        optionsContainer.classList.add('opacity-0', 'invisible', 'pointer-events-none');
                        optionsContainer.classList.remove('opacity-100', 'visible', 'pointer-events-auto');

                      // Trigger change event on the real select
                      realSelect.dispatchEvent(new Event('change'));
                  });
              });
          });

          // Close dropdown when clicking outside
          document.addEventListener('click', function() {
              document.querySelectorAll('.dash-select').forEach(select => {
                  select.classList.remove('open');

                    const arrow = select.querySelector('.select-arrow');
                    const optionsContainer = select.querySelector('.dash-options-container');

                    arrow.classList.remove('rotate-180');
                    optionsContainer.classList.add('opacity-0', 'invisible', 'pointer-events-none');
                    optionsContainer.classList.remove('opacity-100', 'visible', 'pointer-events-auto');
              });
          });

          // Position dropdown up or down based on available space
          function positionDropdown(select) {
              const optionsContainer = select.querySelector('.dash-options-container');
              const rect = select.getBoundingClientRect();
              const spaceBelow = window.innerHeight - rect.bottom;
              const spaceAbove = rect.top;
              const optionsHeight = select.querySelector('.dash-options').scrollHeight;

              // Reset classes
              select.classList.remove('upward');
              optionsContainer.classList.remove('bottom-[calc(100%+0.5rem)]');
              optionsContainer.classList.add('top-[calc(100%+0.5rem)]');

              if (spaceBelow < optionsHeight && spaceAbove > spaceBelow) {
                  select.classList.add('upward');
                  optionsContainer.classList.remove('top-[calc(100%+0.5rem)]');
                  optionsContainer.classList.add('bottom-[calc(100%+0.5rem)]');
              }
          }

          // Reposition dropdowns on window resize
          window.addEventListener('resize', function() {
              document.querySelectorAll('.dash-select.open').forEach(select => {
                  positionDropdown(select);
              });
          });
      });
    </script>

    <!-- show different label based on discount type -->
    <script>
        const dropdown = document.querySelector("[data-discount-dropdown]");
        const trigger = dropdown.querySelector(".dash-select__trigger span");
        const options = dropdown.querySelectorAll("[data-discount-dropdown-option]");
        const usdText = document.querySelector("[data-usd-off-text]");
        const percentText = document.querySelector("[data-percent-off-text]");

        // option click
        options.forEach(option => {
            option.addEventListener("click", (e) => {
                e.stopPropagation();

                const type = option.dataset.discountDropdownOption;

                // update displayed text
                trigger.textContent = option.textContent.trim();

                // remove selected from all and set new
                options.forEach(o => o.classList.remove("selected"));
                option.classList.add("selected");

                // show/hide based on type
                if (type === "percent") {
                    percentText.classList.remove("hidden");
                    usdText.classList.add("hidden");
                } else {
                    usdText.classList.remove("hidden");
                    percentText.classList.add("hidden");
                }
            });
        });
    </script>
</body>
</html>